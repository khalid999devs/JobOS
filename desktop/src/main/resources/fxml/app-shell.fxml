<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.jobos.desktop.controller.AppShellController"
            styleClass="app-shell">

    <!-- Top Bar -->
    <top>
        <HBox styleClass="top-bar" alignment="CENTER_LEFT" spacing="20">
            <padding>
                <Insets top="16" right="24" bottom="16" left="24"/>
            </padding>
            
            <Label fx:id="titleLabel" text="Dashboard" styleClass="h1"/>
            
            <Region HBox.hgrow="ALWAYS"/>
            
            <HBox alignment="CENTER" spacing="20">
                <HBox alignment="CENTER" spacing="8">
                    <Label text="Credits:" styleClass="body" style="-fx-text-fill: -fx-text-secondary;"/>
                    <Label fx:id="creditsLabel" text="0" styleClass="h2" style="-fx-text-fill: -fx-accent;"/>
                </HBox>
                
                <Separator orientation="VERTICAL" prefHeight="30"/>
                
                <Button fx:id="notificationButton" styleClass="icon-button" onAction="#handleNotifications">
                    <graphic>
                        <StackPane>
                            <Region styleClass="bell-icon"/>
                            <Label fx:id="badgeLabel" text="3" styleClass="badge" visible="false" 
                                   StackPane.alignment="TOP_RIGHT" translateX="8" translateY="-8"/>
                        </StackPane>
                    </graphic>
                </Button>
                
                <Separator orientation="VERTICAL" prefHeight="30"/>
                
                <HBox alignment="CENTER" spacing="12" styleClass="profile-section">
                    <VBox alignment="CENTER_RIGHT" spacing="2">
                        <Label fx:id="userNameLabel" text="John Doe" styleClass="body" style="-fx-font-weight: 600;"/>
                        <Label fx:id="userRoleLabel" text="Job Seeker" styleClass="form-label" style="-fx-text-fill: -fx-text-secondary;"/>
                    </VBox>
                    <MenuButton styleClass="profile-menu-button">
                        <graphic>
                            <Region styleClass="avatar"/>
                        </graphic>
                        <items>
                            <MenuItem text="Settings" onAction="#handleSettings"/>
                        </items>
                    </MenuButton>
                </HBox>
            </HBox>
        </HBox>
    </top>

    <!-- Sidebar -->
    <left>
        <BorderPane styleClass="sidebar" prefWidth="260">
            <top>
                <VBox spacing="8">
                    <padding>
                        <Insets top="20" right="0" bottom="12" left="0"/>
                    </padding>
                    <Label text="JobOS" styleClass="sidebar-logo"/>
                </VBox>
            </top>
            
            <center>
                <VBox fx:id="sidebar" spacing="4">
                    <padding>
                        <Insets top="8" right="0" bottom="8" left="0"/>
                    </padding>
                </VBox>
            </center>
            
            <bottom>
                <VBox spacing="8">
                    <padding>
                        <Insets top="12" right="16" bottom="20" left="16"/>
                    </padding>
                    <Separator/>
                    <Button fx:id="logoutButton" text="Logout" styleClass="logout-button" 
                            maxWidth="Infinity" onAction="#handleLogout"/>
                </VBox>
            </bottom>
        </BorderPane>
    </left>

    <!-- Content Area -->
    <center>
        <StackPane fx:id="contentArea" styleClass="content-area">
            <padding>
                <Insets top="32" right="32" bottom="32" left="32"/>
            </padding>
        </StackPane>
    </center>

</BorderPane>
